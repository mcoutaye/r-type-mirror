\doxysection{ecs.\+hpp}
\hypertarget{ecs_8hpp_source}{}\label{ecs_8hpp_source}\index{include/engine/ecs/ecs.hpp@{include/engine/ecs/ecs.hpp}}
\mbox{\hyperlink{ecs_8hpp}{Aller Ã  la documentation de ce fichier.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{**\ EPITECH\ PROJECT,\ 2025}}
\DoxyCodeLine{00003\ \textcolor{comment}{**\ G-\/CPP-\/500-\/RUN-\/5-\/2-\/rtype-\/3}}
\DoxyCodeLine{00004\ \textcolor{comment}{**\ File\ description:}}
\DoxyCodeLine{00005\ \textcolor{comment}{**\ ecs}}
\DoxyCodeLine{00006\ \textcolor{comment}{*/}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#ifndef\ ECS\_HPP}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#define\ ECS\_HPP}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <queue>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <cassert>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <limits>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <bitset>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <unordered\_map>}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00023\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{ecs_8hpp_a230fdbb8f1743186939c063f2414b180}{MAX\_ENTITIES}}\ =\ 1\ <<\ 11;\ \textcolor{comment}{//\ 2048\ Entities\ Max\ (Enough\ for\ our\ project)}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00030\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{ecs_8hpp_abd1f5035faf61f333c46f3dee8286672}{MAX\_COMPONENT}}\ =\ 1\ <<\ 7;\ \textcolor{comment}{//\ 128\ Components\ max\ par\ Entites}}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00035\ \textcolor{keyword}{using\ }\mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ =\ std::uint32\_t;\ \textcolor{comment}{//\ Entity\ is\ just\ an\ ID}}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00040\ \textcolor{keyword}{using\ }\mbox{\hyperlink{ecs_8hpp_a64b07d1264149682ef03e999b0e6c31e}{Signature}}\ =\ std::bitset<MAX\_COMPONENT>;\ \textcolor{comment}{//\ The\ checker\ for\ an\ entity\ has\ a\ certain\ component}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00045\ \textcolor{keyword}{using\ }\mbox{\hyperlink{ecs_8hpp_ae64e049cea77fb2446938fa486df1f53}{ComponentTypeID}}\ =\ std::size\_t;\ \textcolor{comment}{//\ TypeID's\ for\ ComposentType}}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \textcolor{comment}{//\ \#\#\#\ COMPONENT\ TYPE\ ID\ \#\#\#}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00056\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{ecs_8hpp_ae64e049cea77fb2446938fa486df1f53}{ComponentTypeID}}\ \mbox{\hyperlink{ecs_8hpp_afdb02fc115de82c93e814ac1d3a64c06}{newComponentTypeID}}()}
\DoxyCodeLine{00057\ \{}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{ecs_8hpp_ae64e049cea77fb2446938fa486df1f53}{ComponentTypeID}}\ last\ =\ 0;}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordflow}{return}\ last++;}
\DoxyCodeLine{00060\ \}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00070\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00071\ \mbox{\hyperlink{ecs_8hpp_ae64e049cea77fb2446938fa486df1f53}{ComponentTypeID}}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{getComponentID}}()}
\DoxyCodeLine{00072\ \{}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{ecs_8hpp_ae64e049cea77fb2446938fa486df1f53}{ComponentTypeID}}\ \textcolor{keywordtype}{id}\ =\ \mbox{\hyperlink{ecs_8hpp_afdb02fc115de82c93e814ac1d3a64c06}{newComponentTypeID}}();}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordflow}{return}\ id;}
\DoxyCodeLine{00075\ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \textcolor{comment}{//\ \#\#\#\ STORAGE\ COMPONENTS\ \#\#\#}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00087\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ComponentType>}
\DoxyCodeLine{00088\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classStorageComponent}{StorageComponent}}}
\DoxyCodeLine{00089\ \{}
\DoxyCodeLine{00090\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00096\ \ \ \ \ \mbox{\hyperlink{classStorageComponent_a775ec7b9f2f8fefc08266f39dfa6fece}{StorageComponent}}()}
\DoxyCodeLine{00097\ \ \ \ \ \{}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classStorageComponent_a53fb07ad6f26b1edcb7c9ad0335f326d}{\_\_Storage}}.resize(\mbox{\hyperlink{ecs_8hpp_a230fdbb8f1743186939c063f2414b180}{MAX\_ENTITIES}});\ \textcolor{comment}{//\ Posibly\ one\ for\ every\ entity}}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classStorageComponent_a98f0fc714398265edc15803941cf552d}{\_\_checker}}.reset();}
\DoxyCodeLine{00100\ \ \ \ \ \}}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00105\ \ \ \ \ \mbox{\hyperlink{classStorageComponent_aeb53483b7c11f7091ee924541f5b3b6c}{\string~StorageComponent}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{comment}{//\ FUCK\ storage\ :\ Find,\ Update,\ Create\ \&\ Kill\ for\ component}}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00115\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classStorageComponent_aafb0684b10615747aab071b895d97d47}{add}}(\mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ e,\ \textcolor{keyword}{const}\ ComponentType\ \&component)}
\DoxyCodeLine{00116\ \ \ \ \ \{}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ assert(e\ <\ \mbox{\hyperlink{ecs_8hpp_a230fdbb8f1743186939c063f2414b180}{MAX\_ENTITIES}});}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classStorageComponent_a53fb07ad6f26b1edcb7c9ad0335f326d}{\_\_Storage}}[e]\ =\ component;\ \textcolor{comment}{//component\ for\ 'e'\ entity\ is\ in\ [e]}}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classStorageComponent_a98f0fc714398265edc15803941cf552d}{\_\_checker}}.set(e);\ \textcolor{comment}{//\ Update\ checker}}
\DoxyCodeLine{00120\ \ \ \ \ \}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classStorageComponent_a6de145a1ea5570363f566ab9fce66578}{has}}(\mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ e)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00129\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ assert(e\ <\ \mbox{\hyperlink{ecs_8hpp_a230fdbb8f1743186939c063f2414b180}{MAX\_ENTITIES}});}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classStorageComponent_a98f0fc714398265edc15803941cf552d}{\_\_checker}}.test(e);\ \textcolor{comment}{//\ Check\ 'e'\ bit\ to\ see\ if\ 'e'\ entity\ has\ this\ component\ type}}
\DoxyCodeLine{00132\ \ \ \ \ \}}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keyword}{const}\ ComponentType\ *\mbox{\hyperlink{classStorageComponent_a4e0239d1d216347282d49c0bcdf0079d}{get}}(\mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ e)\ \textcolor{keyword}{const}\ \textcolor{comment}{//\ READ-\/ONLY\ version\ because\ const\ (FIND)}}
\DoxyCodeLine{00141\ \ \ \ \ \{}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ assert(e\ <\ \mbox{\hyperlink{ecs_8hpp_a230fdbb8f1743186939c063f2414b180}{MAX\_ENTITIES}});}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classStorageComponent_a6de145a1ea5570363f566ab9fce66578}{has}}(e))}
\DoxyCodeLine{00144\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \&\mbox{\hyperlink{classStorageComponent_a53fb07ad6f26b1edcb7c9ad0335f326d}{\_\_Storage}}[e];\ \textcolor{comment}{//\ Reference\ to\ the\ component\ to\ modify\ it\ IN\ SYSTEM\ ONLY}}
\DoxyCodeLine{00146\ \ \ \ \ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00154\ \ \ \ \ ComponentType\ *\mbox{\hyperlink{classStorageComponent_a9ab952a02c2b870d2b4d8c183a404a39}{get}}(\mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ e)\ \textcolor{comment}{//\ get\ version\ for\ UPDATE}}
\DoxyCodeLine{00155\ \ \ \ \ \{}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ assert(e\ <\ \mbox{\hyperlink{ecs_8hpp_a230fdbb8f1743186939c063f2414b180}{MAX\_ENTITIES}});}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{classStorageComponent_a6de145a1ea5570363f566ab9fce66578}{has}}(e))}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \&\mbox{\hyperlink{classStorageComponent_a53fb07ad6f26b1edcb7c9ad0335f326d}{\_\_Storage}}[e];}
\DoxyCodeLine{00160\ \ \ \ \ \}}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00167\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classStorageComponent_a9584f43386171c9196aa127830fbbf5a}{kill}}(\mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ e)}
\DoxyCodeLine{00168\ \ \ \ \ \{}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ assert(e\ <\ \mbox{\hyperlink{ecs_8hpp_a230fdbb8f1743186939c063f2414b180}{MAX\_ENTITIES}});}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classStorageComponent_a98f0fc714398265edc15803941cf552d}{\_\_checker}}.reset(e);}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ No\ need\ to\ remove\ in\ \_\_Storage,\ the\ [e]\ space\ is\ for\ this\ entity\ anyways.}}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ In\ case\ of\ removing/re-\/adding,\ its\ better\ since\ we\ just\ change\ one\ bit\ instead\ of\ playing\ with\ memory}}
\DoxyCodeLine{00173\ \ \ \ \ \}}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{comment}{//\ Where\ the\ components\ are\ stocked.}}
\DoxyCodeLine{00177\ \ \ \ \ std::vector<ComponentType>\ \mbox{\hyperlink{classStorageComponent_a53fb07ad6f26b1edcb7c9ad0335f326d}{\_\_Storage}};}
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{comment}{//\ Those\ bits\ are\ check\ to\ know\ if\ an\ entity\ has\ a\ component\ of\ this\ specific\ type}}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{comment}{//\ It\ doesnt\ tell\ which\ one,\ just\ if\ it\ has\ this\ type\ or\ not.}}
\DoxyCodeLine{00180\ \ \ \ \ std::bitset<MAX\_ENTITIES>\ \mbox{\hyperlink{classStorageComponent_a98f0fc714398265edc15803941cf552d}{\_\_checker}};}
\DoxyCodeLine{00181\ \};}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00189\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classECS}{ECS}}}
\DoxyCodeLine{00190\ \{}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classECS_a7fba8bcfbb8d238085ab7302d96a332f}{ECS}}()}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ e\ =\ 0;\ e\ <\ \mbox{\hyperlink{ecs_8hpp_a230fdbb8f1743186939c063f2414b180}{MAX\_ENTITIES}};\ e++)}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classECS_a00a2f233abb0f55b486b2426e9aa3c39}{\_\_freeEntities}}.push(e);}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ assert(!\mbox{\hyperlink{classECS_a00a2f233abb0f55b486b2426e9aa3c39}{\_\_freeEntities}}.empty());}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classECS_a897e7c31f36192d60a3f6b9de4fdf8c1}{\string~ECS}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \#\#\ 'FUCK'\ all\ entities\ \#\#}}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ \mbox{\hyperlink{classECS_a41b876f3725cbb04aac3f2edd95522c6}{createEntity}}()}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ assert(\mbox{\hyperlink{classECS_a07c2ca3008559fa7e2382abdcfab95be}{\_\_livingEntities}}\ <\ \mbox{\hyperlink{ecs_8hpp_a230fdbb8f1743186939c063f2414b180}{MAX\_ENTITIES}});}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ \textcolor{keywordtype}{id}\ =\ \mbox{\hyperlink{classECS_a00a2f233abb0f55b486b2426e9aa3c39}{\_\_freeEntities}}.front();}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classECS_a00a2f233abb0f55b486b2426e9aa3c39}{\_\_freeEntities}}.pop();}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classECS_a07c2ca3008559fa7e2382abdcfab95be}{\_\_livingEntities}}++;}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ id;}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classECS_a77bab58f7b7d5e53443078f60957b2d2}{killEntity}}(\mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ e)}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \ \ \ \ assert(e\ <\ \mbox{\hyperlink{ecs_8hpp_a230fdbb8f1743186939c063f2414b180}{MAX\_ENTITIES}});}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classECS_a5bc0cd3b9ff37378d7747b337258e9b2}{\_\_signatures}}[e].reset();}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classECS_a00a2f233abb0f55b486b2426e9aa3c39}{\_\_freeEntities}}.push(e);}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classECS_a07c2ca3008559fa7e2382abdcfab95be}{\_\_livingEntities}}-\/-\/;}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ecs_8hpp_a64b07d1264149682ef03e999b0e6c31e}{Signature}}\ \mbox{\hyperlink{classECS_a11aacce5459a5ce429ea8d181bb4ddc3}{getSignature}}(\mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ e)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00245\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ assert(e\ <\ \mbox{\hyperlink{ecs_8hpp_a230fdbb8f1743186939c063f2414b180}{MAX\_ENTITIES}});}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ \mbox{\hyperlink{classECS_a5bc0cd3b9ff37378d7747b337258e9b2}{\_\_signatures}}.find(e);}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ ==\ \mbox{\hyperlink{classECS_a5bc0cd3b9ff37378d7747b337258e9b2}{\_\_signatures}}.end())}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{ecs_8hpp_a64b07d1264149682ef03e999b0e6c31e}{Signature}}();\ \textcolor{comment}{//\ An\ empty\ bitset}}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ it-\/>second;\ \textcolor{comment}{//\ The\ Entity\ is\ first\ in\ the\ unordered\ map,\ their\ signature\ is\ second}}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classECS_a2d9a9caa600c1982410d33ce3a88eeef}{setSignature}}(\mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ e,\ \mbox{\hyperlink{ecs_8hpp_a64b07d1264149682ef03e999b0e6c31e}{Signature}}\ sig)}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ assert(e\ <\ \mbox{\hyperlink{ecs_8hpp_a230fdbb8f1743186939c063f2414b180}{MAX\_ENTITIES}});}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classECS_a5bc0cd3b9ff37378d7747b337258e9b2}{\_\_signatures}}[e]\ =\ sig;}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \#\#\#\ Composant\ manager\ \#\#\#}}
\DoxyCodeLine{00266\ }
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ 'FUCK'\ All\ type\ components\ to\ an\ entity}}
\DoxyCodeLine{00268\ }
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ComponentType>}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ \mbox{\hyperlink{classECS_ab25f63dc0523958d986069505b703c12}{addComponent}}(\mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ e,\ \textcolor{keyword}{const}\ ComponentType\ \&component)}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ typeID\ =\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{getComponentID<ComponentType>}}();\ \textcolor{comment}{//\ Fetch\ the\ TypeID\ of\ this\ ComponentType}}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{verifyComponentStorage<ComponentType>}}(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{typeID}});}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ *\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{storage}}\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classStorageComponent}{StorageComponent<ComponentType>}}\ *\textcolor{keyword}{>}(\mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}}[\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{typeID}}]);\ \textcolor{comment}{//\ Get\ the\ storage\ of\ the\ componant\ type}}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{storage}}-\/>\mbox{\hyperlink{classStorageComponent_aafb0684b10615747aab071b895d97d47}{add}}(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{e}},\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{component}});\ \textcolor{comment}{//\ Add\ in\ storage}}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classECS_a5bc0cd3b9ff37378d7747b337258e9b2}{\_\_signatures}}[\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{e}}].set(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{typeID}});\ \textcolor{comment}{//\ Set\ signature\ for\ the\ new\ added\ component}}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{e}};}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00287\ }
\DoxyCodeLine{00295\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ComponentType>}
\DoxyCodeLine{00296\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classECS_a33c16853296e9784dfb558f35dffbd72}{hasComponent}}(\mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{e}})\textcolor{keyword}{\ const}}
\DoxyCodeLine{00297\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{assert}}(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{e}}\ <\ \mbox{\hyperlink{ecs_8hpp_a230fdbb8f1743186939c063f2414b180}{MAX\_ENTITIES}});}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}\ =\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{getComponentID<ComponentType>}}();}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Signatures\ are\ telling\ if\ entity\ SHOULD\ have\ a\ component\ or\ not}}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ It\ MAY\ be\ possible\ that\ an\ entity\ has\ a\ component\ set,\ but\ signature\ denies\ it.}}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Always\ trust\ Signature,\ All\ composents\ will\ be\ destroyed\ proprely\ at\ \string~ECS}}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{it}}\ =\ \mbox{\hyperlink{classECS_a5bc0cd3b9ff37378d7747b337258e9b2}{\_\_signatures}}.find(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{e}});}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{it}}\ ==\ \mbox{\hyperlink{classECS_a5bc0cd3b9ff37378d7747b337258e9b2}{\_\_signatures}}.end())}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00306\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{it}}-\/>second.test(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}))}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Signature\ say\ entity\ SHOULD\ have\ this,\ for\ safety\ we\ do\ internal\ checks}}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}\ >=\ \mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}}.size())}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}}[\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}]\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ *\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{storage}}\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classStorageComponent}{StorageComponent<ComponentType>}}\ *\textcolor{keyword}{>}(\mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}}[\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}]);}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{storage}}-\/>\mbox{\hyperlink{classStorageComponent_a6de145a1ea5570363f566ab9fce66578}{has}}(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{e}});}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ComponentType>}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{ComponentType}}\ *\mbox{\hyperlink{classECS_a358206e15202fccfa73017c47af07079}{getConstComponent}}(\mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{e}})\textcolor{keyword}{\ const}}
\DoxyCodeLine{00326\ \textcolor{keyword}{\ \ \ \ \ \ \ \ }\{}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}\ =\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{getComponentID<ComponentType>}}();}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{it}}\ =\ \mbox{\hyperlink{classECS_a5bc0cd3b9ff37378d7747b337258e9b2}{\_\_signatures}}.find(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{e}});}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{it}}\ ==\ \mbox{\hyperlink{classECS_a5bc0cd3b9ff37378d7747b337258e9b2}{\_\_signatures}}.end())}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{it}}-\/>second.test(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}))}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}\ >=\ \mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}}.size())}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}}[\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}]\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ *\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{storage}}\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }\mbox{\hyperlink{classStorageComponent}{StorageComponent<ComponentType>}}\ *\textcolor{keyword}{>}(\mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}}[\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}]);}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{storage}}-\/>\mbox{\hyperlink{classStorageComponent_a4e0239d1d216347282d49c0bcdf0079d}{get}}(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{e}});}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ComponentType>}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{ComponentType}}\ *\mbox{\hyperlink{classECS_aaae60c88af59dd7af9d86200eb522bbc}{getComponent}}(\mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{e}})}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}\ =\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{getComponentID<ComponentType>}}();}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{it}}\ =\ \mbox{\hyperlink{classECS_a5bc0cd3b9ff37378d7747b337258e9b2}{\_\_signatures}}.find(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{e}});}
\DoxyCodeLine{00353\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{it}}\ ==\ \mbox{\hyperlink{classECS_a5bc0cd3b9ff37378d7747b337258e9b2}{\_\_signatures}}.end())}
\DoxyCodeLine{00354\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{it}}-\/>second.test(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}))}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}\ >=\ \mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}}.size())}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}}[\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}]\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ *\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{storage}}\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classStorageComponent}{StorageComponent<ComponentType>}}\ *\textcolor{keyword}{>}(\mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}}[\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}]);}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{storage}}-\/>\mbox{\hyperlink{classStorageComponent_a4e0239d1d216347282d49c0bcdf0079d}{get}}(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{e}});}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00364\ }
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ THIS\ IS\ SO\ USEFULL\ FOR\ SYSTEMS\ UPDATES\ +\ MORE\ OPTIMIZED\ FOR\ THE\ SYSTEM}}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ...\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{ComponentType}}>}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ std::vector<Entity>\ \mbox{\hyperlink{classECS_a8d931ce389d47888768e1a5092bde26b}{getEntitiesByComponents}}()}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<Entity>\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{validEntities}};\ \textcolor{comment}{//\ Entities\ having\ the\ following\ ComponentTypes}}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ecs_8hpp_a64b07d1264149682ef03e999b0e6c31e}{Signature}}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{requiredSignature}};\ \textcolor{comment}{//\ This\ is\ a\ combinaison\ of\ all\ required\ component\ in\ one\ signature.}}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ This\ will\ be\ compared\ to\ the\ Entity\ signature\ with\ bit\ manipulation}}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ This\ will\ set\ bits\ of\ the\ required\ components}}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{requiredSignature}}.set(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{getComponentID<ComponentType>}}()),\ ...);}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\ \&[\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{entity}},\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{signature}}]\ :\ \mbox{\hyperlink{classECS_a5bc0cd3b9ff37378d7747b337258e9b2}{\_\_signatures}})}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ if\ entity\ has\ all\ required\ components}}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{signature}}\ \&\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{requiredSignature}})\ ==\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{requiredSignature}})}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{validEntities}}.push\_back(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{entity}});}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Could\ to\ a\ \_cacheQuery\ later}}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Stock\ last\ vector<Entity>\ and\ return\ it\ in\ case\ of\ same\ request\ with\ requiredSignature}}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{validEntities}};}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00389\ }
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ComponentType>}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classECS_aa790d7ea384b5aad8a2dbe0d2cee1661}{killComponent}}(\mbox{\hyperlink{ecs_8hpp_a9a522438c9f5d73ebe6349edc3313d5e}{Entity}}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{e}})}
\DoxyCodeLine{00398\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00399\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}\ =\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{getComponentID<ComponentType>}}();}
\DoxyCodeLine{00400\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{it}}\ =\ \mbox{\hyperlink{classECS_a5bc0cd3b9ff37378d7747b337258e9b2}{\_\_signatures}}.find(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{e}});}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{it}}\ ==\ \mbox{\hyperlink{classECS_a5bc0cd3b9ff37378d7747b337258e9b2}{\_\_signatures}}.end())}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{it}}-\/>second.test(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}))}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}\ >=\ \mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}}.size())}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}}[\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}]\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ *\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{storage}}\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classStorageComponent}{StorageComponent<ComponentType>}}\ *\textcolor{keyword}{>}(\mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}}[\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}]);}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{storage}}-\/>\mbox{\hyperlink{classStorageComponent_a9584f43386171c9196aa127830fbbf5a}{kill}}(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{e}});}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classECS_a5bc0cd3b9ff37378d7747b337258e9b2}{\_\_signatures}}[\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{e}}].reset(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}});}
\DoxyCodeLine{00412\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classECS_a5c0787ab975107fe402c5dc16dc945e5}{getTime}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classECS_a620302f938f8646f1348dcfdb5f6cddb}{\_time}};\ \}}
\DoxyCodeLine{00420\ }
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classECS_a9e8a8388bce60d993a5ef04fd42dc0f0}{addTime}}(\textcolor{keywordtype}{double}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{dt}})\ \{\ \mbox{\hyperlink{classECS_a620302f938f8646f1348dcfdb5f6cddb}{\_time}}\ +=\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{dt}};\ \}}
\DoxyCodeLine{00427\ }
\DoxyCodeLine{00428\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{classECS_a620302f938f8646f1348dcfdb5f6cddb}{\_time}};}
\DoxyCodeLine{00430\ \ \ \ \ \ \ \ \ std::size\_t\ \mbox{\hyperlink{classECS_a07c2ca3008559fa7e2382abdcfab95be}{\_\_livingEntities}}\ =\ 0;}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ entities\ not\ used\ yet}}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ std::queue<Entity>\ \mbox{\hyperlink{classECS_a00a2f233abb0f55b486b2426e9aa3c39}{\_\_freeEntities}};}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Bitmask\ used\ for\ linking\ entiteis\ to\ their\ component}}
\DoxyCodeLine{00434\ \ \ \ \ \ \ \ \ std::unordered\_map<Entity,\ Signature>\ \mbox{\hyperlink{classECS_a5bc0cd3b9ff37378d7747b337258e9b2}{\_\_signatures}};}
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ std::vector<void\ *>\ \mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}};\ \textcolor{comment}{//\ void*\ are\ std::Vector<ComponentType>\ from\ storageComponent\ class}}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ CHANGE\ void\ *\ INTO\ IComponentStorage\ and\ unique\_ptr\ later}}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Also\ change\ the\ static\_cast\ once\ IComponent\ created\ (std::vector<std::unique\_ptr<IComponentStorage>>)}}
\DoxyCodeLine{00438\ }
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ComponentType>}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classECS_a0d360a43bc140d37953297708afb8b86}{verifyComponentStorage}}(\mbox{\hyperlink{ecs_8hpp_ae64e049cea77fb2446938fa486df1f53}{ComponentTypeID}}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}})}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Update\ types\ storage\ size\ if\ full\ and\ add\ them\ if\ not\ existing}}
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Ensure\ that\ \_componentStorage\ is\ pointing\ toward\ a\ StorageComponent\ instance}}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Resize\ the\ vector\ if\ storage\ is\ full}}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}\ >=\ \mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}}.size())}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}}.resize(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}\ +\ 1,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Add\ a\ new\ Component\ Type\ Storage\ if\ not\ existing\ at\ TypeID}}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\ \mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}}[\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}]\ ==\ \textcolor{keyword}{nullptr})}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classECS_ac685d0056ab87feb1c2be13b49a1a98c}{\_componentStorages}}[\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{TypeID}}]\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{StorageComponent<ComponentType>}}();}
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00457\ \};}
\DoxyCodeLine{00458\ \textcolor{comment}{//\ DONT\ FORGET\ TO\ DESTROY\ PROPRELY\ COMPONENTS\ IN\ \string~ECS()}}
\DoxyCodeLine{00459\ \textcolor{comment}{//\ Right\ now:\ Always\ Trusting\ signature\ "{}Inshallah"{}}}
\DoxyCodeLine{00460\ }
\DoxyCodeLine{00461\ \textcolor{comment}{//\ \#\#\#\ ISYSTEM\ CLASS\ \#\#\#}}
\DoxyCodeLine{00462\ }
\DoxyCodeLine{00469\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classISystem}{ISystem}}}
\DoxyCodeLine{00470\ \{}
\DoxyCodeLine{00471\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classISystem_a0cb213e9200b0463a803d4c4a37efe75}{ISystem}}(\mbox{\hyperlink{classECS}{ECS}}\ \&\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{ecs}})}
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classISystem_a7e1c812c3c001c628b0f17e89ecb13fa}{\_ecs}}(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{ecs}})\ \{\};}
\DoxyCodeLine{00479\ }
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \mbox{\hyperlink{classISystem_a42d100a53483da2de2d3f7b0e6c61b3a}{\string~ISystem}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00484\ }
\DoxyCodeLine{00490\ \ \ \ \ \ \ \ \ \textcolor{keyword}{virtual}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classISystem_a739106b9af90852f4a2ce03f68248c00}{update}}(\textcolor{keywordtype}{double}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{dt}})\ =\ 0;\ \textcolor{comment}{//\ Double\ is\ 2\ more\ precise\ than\ a\ float}}
\DoxyCodeLine{00491\ }
\DoxyCodeLine{00492\ \ \ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00493\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classECS}{ECS}}\ \&\mbox{\hyperlink{classISystem_a7e1c812c3c001c628b0f17e89ecb13fa}{\_ecs}};}
\DoxyCodeLine{00494\ \};}
\DoxyCodeLine{00495\ }
\DoxyCodeLine{00496\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ ECS\_HPP\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
