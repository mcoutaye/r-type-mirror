\chapter{Module Réseau -\/ R-\/\+Type Mirror}
\hypertarget{index}{}\label{index}\index{Module Réseau -\/ R-\/Type Mirror@{Module Réseau -\/ R-\/Type Mirror}}
\label{index_mainpage}%
\Hypertarget{index_mainpage}%


 
\begin{DoxyImage}
\includegraphics[width=800px]{network_overview.png}
\doxyfigcaption{Vue d\textquotesingle{}ensemble du module réseau}
\end{DoxyImage}
   \hypertarget{index_autotoc_md0}{}\doxysection{\texorpdfstring{Module Réseau du projet R-\/\+Type Mirror}{Module Réseau du projet R-Type Mirror}}\label{index_autotoc_md0}
Bienvenue dans la documentation du module réseau du projet {\bfseries{r-\/type-\/mirror}}, un jeu multijoueur inspiré de R-\/\+Type développé dans le cadre d\textquotesingle{}Epitech 2025.

Ce module gère toute la communication réseau entre le serveur et les clients avec une architecture {\bfseries{hybride TCP/\+UDP}} optimisée pour un gameplay fluide et réactif.\hypertarget{index_autotoc_md1}{}\doxysubsection{\texorpdfstring{Architecture générale}{Architecture générale}}\label{index_autotoc_md1}
Le système réseau est séparé en deux canaux complémentaires \+:


\begin{DoxyItemize}
\item {\bfseries{TCP}} (port par défaut \+: {\bfseries{53001}}) \+: Connexion fiable pour la découverte, l\textquotesingle{}authentification légère et le keep-\/alive. Protocole simple ping/pong avec détection de timeout.
\item {\bfseries{UDP}} (port par défaut \+: {\bfseries{53000}}) \+: Gameplay en temps réel (faible latence, tolérance aux pertes de paquets). Envoi des inputs joueur → serveur. Broadcast des positions d\textquotesingle{}entités serveur → clients.
\end{DoxyItemize}\hypertarget{index_autotoc_md2}{}\doxysubsection{\texorpdfstring{Namespace}{Namespace}}\label{index_autotoc_md2}
Tout le code réseau est encapsulé dans le namespace {\ttfamily \doxylink{namespaceNwk}{Nwk}} pour éviter les conflits.\hypertarget{index_autotoc_md3}{}\doxysubsection{\texorpdfstring{Classes principales}{Classes principales}}\label{index_autotoc_md3}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Classe   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Rôle principal   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Canal    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Classe   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Rôle principal   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Canal    }\\\cline{1-3}
\endhead
\mbox{[}\doxylink{classNwk_1_1TcpServer}{Nwk\+::\+Tcp\+Server}\mbox{]}   &Gestion des connexions et keep-\/alive   &TCP    \\\cline{1-3}
\mbox{[}\doxylink{classNwk_1_1TcpClient}{Nwk\+::\+Tcp\+Client}\mbox{]}   &Connexion initiale et maintien de la liaison   &TCP    \\\cline{1-3}
\mbox{[}\doxylink{classNwk_1_1UdpServer}{Nwk\+::\+Udp\+Server}\mbox{]}   &Réception inputs + envoi snapshots entités   &UDP    \\\cline{1-3}
\mbox{[}\doxylink{classNwk_1_1UdpClient}{Nwk\+::\+Udp\+Client}\mbox{]}   &Envoi inputs + réception snapshots   &UDP    \\\cline{1-3}
\mbox{[}\doxylink{classNwk_1_1SafeQueue}{Nwk\+::\+Safe\+Queue}\mbox{]}   &Communication thread-\/safe entre réseau et logique jeu   &-\/   \\\cline{1-3}
\end{longtabu}
\hypertarget{index_autotoc_md4}{}\doxysubsection{\texorpdfstring{Protocole UDP (gameplay)}{Protocole UDP (gameplay)}}\label{index_autotoc_md4}

\begin{DoxyItemize}
\item {\bfseries{Input\+State}} (1 octet) \+: bitfield des inputs (haut, bas, gauche, droite, tir)
\item {\bfseries{Entity\+Update}} (12 octets) \+: \{ entity\+Id (uint32), x (float), y (float) \}
\item Les snapshots sont envoyés sous forme de multiples Entity\+Update concaténés
\end{DoxyItemize}\hypertarget{index_autotoc_md5}{}\doxysubsection{\texorpdfstring{Fonctionnalités clés}{Fonctionnalités clés}}\label{index_autotoc_md5}

\begin{DoxyItemize}
\item Ajout automatique des clients UDP à la réception du premier input
\item Limitation à {\bfseries{4 joueurs maximum}} (MAX\+\_\+\+CLIENTS = 4)
\item Threads dédiés avec arrêt propre et join
\item Files thread-\/safe pour découpler réseau et game loop
\item Détection de déconnexion via timeout TCP
\end{DoxyItemize}\hypertarget{index_autotoc_md6}{}\doxysubsection{\texorpdfstring{Navigation rapide}{Navigation rapide}}\label{index_autotoc_md6}

\begin{DoxyItemize}
\item \mbox{[}\doxylink{namespaceNwk}{Namespace Nwk}\mbox{]} → Toutes les classes du module
\item \mbox{[}\doxylink{classNwk_1_1UdpServer}{Udp\+Server}\mbox{]} → Cœur du gameplay serveur
\item \mbox{[}\doxylink{classNwk_1_1UdpClient}{Udp\+Client}\mbox{]} → Côté client gameplay
\end{DoxyItemize}

\DoxyHorRuler{0}


{\itshape Projet réalisé par Gabriel Villemonte \& Clément Chellier – Epitech 2025} 