\doxysection{Udp\+Server.\+hpp}
\hypertarget{UdpServer_8hpp_source}{}\label{UdpServer_8hpp_source}\index{include/network/UdpServer.hpp@{include/network/UdpServer.hpp}}
\mbox{\hyperlink{UdpServer_8hpp}{Aller Ã  la documentation de ce fichier.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{**\ EPITECH\ PROJECT,\ 2025}}
\DoxyCodeLine{00003\ \textcolor{comment}{**\ r-\/type-\/mirror}}
\DoxyCodeLine{00004\ \textcolor{comment}{**\ File\ description:}}
\DoxyCodeLine{00005\ \textcolor{comment}{**\ UdpServer}}
\DoxyCodeLine{00006\ \textcolor{comment}{*/}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{SafeQueue_8hpp}{SafeQueue.hpp}}"{}}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <SFML/Network.hpp>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{NetworkProtocol_8hpp}{NetworkProtocol.hpp}}"{}}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <thread>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <atomic>}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <sstream>}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <cstring>}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#define\ MAX\_CLIENTS\ 4\ }}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceNwk}{Nwk}}\ \{}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00031\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classNwk_1_1ClientInfo}{ClientInfo}}\ \{}
\DoxyCodeLine{00032\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00033\ \ \ \ \ sf::IpAddress\ \mbox{\hyperlink{classNwk_1_1ClientInfo_a3a4a5b8c951bf2a089450274f24807b8}{address}};\ \ \ }
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short}\ \mbox{\hyperlink{classNwk_1_1ClientInfo_a7928e19e7139eefa13f72fcd84ab274e}{port}};\ \ \ \ \ }
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classNwk_1_1ClientInfo_a788dd0d0fa05bae249f0d6fcf7806d5e}{playerId}};\ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00043\ \ \ \ \ \mbox{\hyperlink{classNwk_1_1ClientInfo_aa8d5f137640be90f8132332756cab444}{ClientInfo}}(sf::IpAddress\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{ip}},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short}\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{p}},\ \textcolor{keywordtype}{int}\ \textcolor{keywordtype}{id})}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classNwk_1_1ClientInfo_a3a4a5b8c951bf2a089450274f24807b8}{address}}(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{ip}}),\ \mbox{\hyperlink{classNwk_1_1ClientInfo_a7928e19e7139eefa13f72fcd84ab274e}{port}}(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{p}}),\ \mbox{\hyperlink{classNwk_1_1ClientInfo_a788dd0d0fa05bae249f0d6fcf7806d5e}{playerId}}(\mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{id}})\ \{\}}
\DoxyCodeLine{00045\ \};}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00057\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classNwk_1_1UdpServer}{UdpServer}}\ \{}
\DoxyCodeLine{00058\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00063\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classNwk_1_1UdpServer}{UdpServer}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short}\ port);}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00069\ \ \ \ \ \mbox{\hyperlink{classNwk_1_1UdpServer_a192e05f241ac7da2de16109654165477}{\string~UdpServer}}();}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classNwk_1_1UdpServer_acc02960a410d923f05c1e54e7bd0d44f}{start}}();}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classNwk_1_1UdpServer_a47974964253561b19de653f8d841aa7b}{stop}}();}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classNwk_1_1UdpServer_a12c9f8678b6abbed782b3df1e53a4b44}{join}}();}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00090\ \ \ \ \ \mbox{\hyperlink{classNwk_1_1SafeQueue}{SafeQueue<std::pair<int,\ InputState>}}>\ \mbox{\hyperlink{classNwk_1_1UdpServer_abef70c1da14195bb3d81aa6d9cf506cc}{receivedInputs}};}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00093\ \ \ \ \ \mbox{\hyperlink{classNwk_1_1SafeQueue}{SafeQueue<PacketToSend>}}\ \mbox{\hyperlink{classNwk_1_1UdpServer_a7be5c496383114e32ed27eac6496e35a}{packetsToSend}};}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classNwk_1_1UdpServer_a56edbf49516f13d0f0dc70457ade6139}{addClient}}(sf::IpAddress\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{ip}},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short}\ port,\ \textcolor{keywordtype}{int}\ playerId\ =\ -\/1);}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classNwk_1_1UdpServer_ad9de265284b5877c1567df449e407b04}{removeClient}}(\textcolor{keywordtype}{int}\ playerId);}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00114\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{classNwk_1_1UdpServer_afcc848339340c1b9a62661683d581b2b}{getClientCount}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classNwk_1_1UdpServer_a44054db91cb788804c57810f157ddb92}{m\_clientCount}};\ \}}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00120\ \ \ \ \ \textcolor{keyword}{const}\ std::vector<std::unique\_ptr<ClientInfo>>\&\ \mbox{\hyperlink{classNwk_1_1UdpServer_af04f098a13bca26a1b499c938b20f454}{getClients}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classNwk_1_1UdpServer_a2481a3c41f2706987ec88ba7868cdac1}{m\_clients}};\ \}}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classNwk_1_1UdpServer_a90f50bba734719820593228ee7388578}{receiveThread}}();}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classNwk_1_1UdpServer_aa9bcef70549c51db0a178885bdae3176}{sendThread}}();}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00141\ \ \ \ \ \mbox{\hyperlink{classNwk_1_1ClientInfo}{ClientInfo}}*\ \mbox{\hyperlink{classNwk_1_1UdpServer_aadb5e3e0e4340ac2073d900fcd59486e}{findClient}}(\textcolor{keyword}{const}\ sf::IpAddress\&\ \mbox{\hyperlink{ecs_8hpp_a5a868f82168f3b251aa7ca758686125c}{ip}},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short}\ port);}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \ \ sf::UdpSocket\ \mbox{\hyperlink{classNwk_1_1UdpServer_a4929928aaddb07b0e8c0739bed44b182}{m\_socket}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{short}\ \mbox{\hyperlink{classNwk_1_1UdpServer_a95836d57eeaed993e64302c5a86ffd11}{m\_port}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00145\ \ \ \ \ std::vector<std::unique\_ptr<ClientInfo>>\ \mbox{\hyperlink{classNwk_1_1UdpServer_a2481a3c41f2706987ec88ba7868cdac1}{m\_clients}};\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00146\ \ \ \ \ std::size\_t\ \mbox{\hyperlink{classNwk_1_1UdpServer_a44054db91cb788804c57810f157ddb92}{m\_clientCount}}\ =\ 0;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00147\ \ \ \ \ std::atomic<bool>\ \mbox{\hyperlink{classNwk_1_1UdpServer_a05bea47aabdd439a979a16d29f3a8619}{m\_running}}\{\textcolor{keyword}{false}\};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00148\ \ \ \ \ std::thread\ \mbox{\hyperlink{classNwk_1_1UdpServer_a998cb5dac4ef98a2a1cfcf1196a53dbc}{m\_recvThread}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00149\ \ \ \ \ std::thread\ \mbox{\hyperlink{classNwk_1_1UdpServer_a0d8868c50ace29ff0f9513f9186d1e09}{m\_sendThread}};\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00150\ \};}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \}\ \textcolor{comment}{//\ namespace\ Nwk}}

\end{DoxyCode}
